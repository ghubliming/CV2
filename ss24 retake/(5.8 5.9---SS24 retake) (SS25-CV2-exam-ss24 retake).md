# 3D Rigid Body Motion Analysis

## Problem Statement

The task is to determine the minimum number of point correspondences required to compute the 3D rigid body motion between two camera views of a static scene. We consider two scenarios with different constraints on the camera's motion and calibration.

## Mathematical Framework

### 3D Rigid Body Motion

A 3D rigid body motion transforms a point $X$ from one coordinate system to another. It is defined by:
- A **rotation matrix** $R \in SO(3)$, which is a $3 \times 3$ orthogonal matrix with $\det(R)=1$. It has **3 degrees of freedom (DoF)**.
- A **translation vector** $t \in \mathbb{R}^3$. It has **3 degrees of freedom (DoF)**.

The transformation is expressed as $X_{cam2} = R \cdot X_{cam1} + t$.

### Epipolar Constraint

For a 3D point $X$ projected into two images as points $p_1$ and $p_2$, the relationship is constrained by the camera motion. If the camera's intrinsic matrix $K$ is known, we can work with normalized image coordinates:
$x = K^{-1}p$.

The coplanarity of the 3D point $X$ and the two camera centers $C_1, C_2$ leads to the **epipolar constraint**:

$$x_2^T E x_1 = 0$$

Here, $E$ is the **Essential Matrix**, which encapsulates the relative camera motion. It is defined as:

$$E = [t]_\times R$$

where $[t]_\times$ is the skew-symmetric matrix representation of the cross product with vector $t$. Each point correspondence provides **one linear constraint** on the elements of the Essential Matrix $E$.

---

## Scenario 5.8: Known Intrinsic Calibration

**Question:** How many point correspondences are at least required to compute the 3D rigid body motion (with unknown scale)?

### Analysis of Unknowns

1.  **Rotation ($R$)**: The rotation matrix has **3 DoF**.
2.  **Translation ($t$)**: The translation vector has 3 components, so it seems to have 3 DoF. However, the epipolar constraint equation ($x_2^T [t]_\times R x_1 = 0$) is **homogeneous** in $t$. This means that if we scale $t$ by any non-zero factor $s$, the equation still holds:
    $$x_2^T [s \cdot t]_\times R x_1 = s \cdot (x_2^T [t]_\times R x_1) = 0$$
    This implies that we cannot determine the **magnitude (scale)** of the translation from the epipolar constraint alone. We can only determine its **direction**. A direction in 3D space is a unit vector, which is defined by two angles (like latitude and longitude on a sphere). Therefore, the translation direction has only **2 DoF**.

**Total Degrees of Freedom (Unknowns) = 3 (for R) + 2 (for t-direction) = 5 DoF.**
[[Discussion Why Does Translation Have 2 Degrees of Freedom(Analysis of Unknowns--Scenario 5.8 Known Intrinsic Calibration--3D Rigid Body Motion Analysis--(5.8 5.9---SS24 retake)) (SS25-CV2-exam-ss24 retake)]]
### Analysis of Constraints

Each point correspondence provides one linear equation in the elements of the Essential Matrix $E$. The Essential Matrix itself has 5 DoF, which directly corresponds to the 5 DoF of the motion it represents.

### ==Minimum Point Correspondences==

==To solve for a system with 5 unknowns, we need at least 5 independent equations. Since each point correspondence provides one equation, we need a minimum of **5 point correspondences**.==

==This is the basis for the well-known **five-point algorithm** for computing the Essential Matrix.==

---

## Scenario 5.9: Known Calibration + No Translation

**Question:** How many point correspondences are at least required if there is no translation between the two images?

### Analysis of Unknowns

1.  **Rotation ($R$)**: The rotation matrix still has **3 DoF**.
2.  **Translation ($t$)**: The problem states there is no translation, so $t = \begin{bmatrix} 0 & 0 & 0 \end{bmatrix}^T$. This has **0 DoF**.

**Total Degrees of Freedom (Unknowns) = 3 (for R) + 0 (for t) = 3 DoF.**

### Analysis of Constraints

With $t=0$, the Essential Matrix becomes $E = [0]_\times R = 0$. The epipolar constraint $x_2^T E x_1 = 0$ becomes trivial ($0=0$) and provides no information about the rotation $R$.
[[Discussion What is a Homography and When Does It Occur(Analysis of Constraints--Scenario 5.9 Known Calibration + No Translation--3D Rigid Body Motion Analysis--(5.8 5.9---SS24 retake)) (SS25-CV2-exam-ss24 retake)]]
**Why we use a Homography:**
When the camera only rotates about its center (no translation), the transformation that maps points from one image to the other is a **homography**. Let's see why.

A 3D point $X$ is seen from two camera positions. In their respective coordinate systems, the point is $X_1$ and $X_2$.
With pure rotation, the relationship is:
$$X_2 = R \cdot X_1$$

The projection of these points onto the normalized image planes (since $K$ is known) is given by $x_1 = X_1/Z_1$ and $x_2 = X_2/Z_2$, where $Z$ is the depth.
Substituting the rotation relationship:
$$Z_2 x_2 = R \cdot (Z_1 x_1)$$
$$x_2 = \frac{Z_1}{Z_2} R \cdot x_1$$
This shows that the projected point $x_2$ is related to the rotated point $R x_1$ by an unknown scalar factor $\lambda = Z_1/Z_2$ (which depends on the point's depth).

In projective geometry terms, this is written as:
$$x_2 \sim R x_1$$
If we use the pixel coordinates $p = Kx$, then $x = K^{-1}p$.
$$K^{-1}p_2 \sim R K^{-1}p_1$$
$$p_2 \sim K R K^{-1} p_1$$
This defines a **homography** $H = K R K^{-1}$ that maps points from image 1 to image 2. Since we know $K$, finding the rotation $R$ is equivalent to finding this special type of homography.

### Minimum Point Correspondences

We need to solve for the rotation matrix $R$, which has 3 unknowns. How many point correspondences do we need?

Each point correspondence $(p_1, p_2)$ provides a constraint on $R$. Using the normalized coordinates:
$$x_2 \sim R x_1$$
This means $x_2$ and $R x_1$ are parallel vectors. Their cross product must be zero:
$$x_2 \times (R x_1) = 0$$
This vector equation provides **two independent linear constraints** on the elements of $R$ for each point correspondence. (The third equation is a linear combination of the other two).

To solve for our **3 unknowns** (the parameters of $R$), we need at least 3 equations.
- 1 point gives 2 equations (under-determined).
- 2 points give 4 equations (over-determined).

Therefore, a minimum of **2 point correspondences** is required. With two points, we have a system of 4 equations for 3 unknowns, which can be solved for $R$.

---

## Summary Table

| Scenario                                | Motion Unknowns (DoF) | Constraint Type     | Min. Points |
| --------------------------------------- | --------------------- | ------------------- | ----------- |
| 5.8: Known Calibration                  | 5 (3 Rot, 2 Trans)    | Epipolar Geometry (E) | **5**       |
| 5.9: Known Calibration + No Translation | 3 (3 Rot, 0 Trans)    | Homography (H)      | **2**       |

### Key Insights

1.  **Scenario 5.8** is a classic relative pose problem. The scale ambiguity of translation reduces its DoF from 3 to 2, leading to the 5-point algorithm.
2.  **Scenario 5.9** is a pure rotation problem. The lack of translation makes the Essential Matrix useless, and the problem reduces to finding a rotation-induced homography.
3.  Each point correspondence provides two constraints in the pure rotation case, hence only 2 points are needed to solve for the 3 DoF of the rotation.
